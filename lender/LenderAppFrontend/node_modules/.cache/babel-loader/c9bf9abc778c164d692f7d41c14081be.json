{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { InteractionContext } from '../../context/InteractionProvider';\nimport { getIsHighlighted, getIsFaded } from '../../hooks/useInteractionItemProps';\nexport function useTransformData(series) {\n  const {\n    id: seriesId,\n    highlightScope,\n    data,\n    faded,\n    highlighted,\n    paddingAngle: basePaddingAngle = 0,\n    innerRadius: baseInnerRadius = 0,\n    arcLabelRadius: baseArcLabelRadius,\n    outerRadius: baseOuterRadius,\n    cornerRadius: baseCornerRadius = 0\n  } = series;\n  const {\n    item: highlightedItem\n  } = React.useContext(InteractionContext);\n  const getHighlightStatus = React.useCallback(dataIndex => {\n    const isHighlighted = getIsHighlighted(highlightedItem, {\n      type: 'pie',\n      seriesId,\n      dataIndex\n    }, highlightScope);\n    const isFaded = !isHighlighted && getIsFaded(highlightedItem, {\n      type: 'pie',\n      seriesId,\n      dataIndex\n    }, highlightScope);\n    return {\n      isHighlighted,\n      isFaded\n    };\n  }, [highlightScope, highlightedItem, seriesId]);\n  const dataWithHighlight = React.useMemo(() => data.map((item, itemIndex) => {\n    var _attributesOverride$p, _attributesOverride$i, _attributesOverride$o, _attributesOverride$c, _ref, _attributesOverride$a;\n    const {\n      isHighlighted,\n      isFaded\n    } = getHighlightStatus(itemIndex);\n    const attributesOverride = _extends({\n      additionalRadius: 0\n    }, isFaded && faded || isHighlighted && highlighted || {});\n    const paddingAngle = Math.max(0, Math.PI * ((_attributesOverride$p = attributesOverride.paddingAngle) != null ? _attributesOverride$p : basePaddingAngle) / 180);\n    const innerRadius = Math.max(0, (_attributesOverride$i = attributesOverride.innerRadius) != null ? _attributesOverride$i : baseInnerRadius);\n    const outerRadius = Math.max(0, (_attributesOverride$o = attributesOverride.outerRadius) != null ? _attributesOverride$o : baseOuterRadius + attributesOverride.additionalRadius);\n    const cornerRadius = (_attributesOverride$c = attributesOverride.cornerRadius) != null ? _attributesOverride$c : baseCornerRadius;\n    const arcLabelRadius = (_ref = (_attributesOverride$a = attributesOverride.arcLabelRadius) != null ? _attributesOverride$a : baseArcLabelRadius) != null ? _ref : (innerRadius + outerRadius) / 2;\n    return _extends({}, item, attributesOverride, {\n      isFaded,\n      isHighlighted,\n      paddingAngle,\n      innerRadius,\n      outerRadius,\n      cornerRadius,\n      arcLabelRadius\n    });\n  }), [baseCornerRadius, baseInnerRadius, baseOuterRadius, basePaddingAngle, baseArcLabelRadius, data, faded, getHighlightStatus, highlighted]);\n  return dataWithHighlight;\n}","map":null,"metadata":{},"sourceType":"module"}